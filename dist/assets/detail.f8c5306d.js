import{c as ce,d as ie,h as $,M as Ce,s as z,P as oe,i as Te,x as L,K as he,ai as Me,E as le,z as ae,a as u,n as Y,t as j,m as J,ae as Ae,aT as Re,C as ee,I as te,w as ve,f as G,as as fe,l as ze,p as ue,b as K,aU as $e,ax as Be,aF as Ne,A as De,g as Xe,q,J as me,Q as Le,H as Ve,aq as We,e as Ze,W as Ye,_ as A,X as c,Y as r,a8 as T,a9 as R,aV as be,a0 as o,a6 as m,aH as D,a5 as ne,ab as X,ac as ge,aa as re,aI as je,Z as H,$ as F,aW as He,F as Fe,aX as Ke,a1 as Ee,a3 as Ue,a7 as M}from"./index.4b6ab6fb.js";import{N as Oe}from"./index.18bb070c.js";import{u as Ge,c as ye,a as qe,S as pe,D as Qe}from"./index.2f4e15c2.js";import{L as Je,P as et,m as tt,u as ot,R as st,a as at}from"./useScroll.72e52b65.js";const[nt,W]=ce("image"),ct={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Y,height:Y,radius:Y,lazyLoad:Boolean,iconSize:Y,showError:j,errorIcon:J("photo-fail"),iconPrefix:String,showLoading:j,loadingIcon:J("photo")};var it=ie({name:nt,props:ct,emits:["load","error"],setup(e,{emit:l,slots:d}){const t=$(!1),s=$(!0),i=$(),{$Lazyload:g}=Ce().proxy,h=z(()=>{const a={width:oe(e.width),height:oe(e.height)};return Te(e.radius)&&(a.overflow="hidden",a.borderRadius=oe(e.radius)),a});L(()=>e.src,()=>{t.value=!1,s.value=!0});const v=a=>{s.value&&(s.value=!1,l("load",a))},y=()=>{const a=new Event("load");Object.defineProperty(a,"target",{value:i.value,enumerable:!0}),v(a)},P=a=>{t.value=!0,s.value=!1,l("error",a)},w=(a,_,f)=>f?f():u(te,{name:a,size:e.iconSize,class:_,classPrefix:e.iconPrefix},null),S=()=>{if(s.value&&e.showLoading)return u("div",{class:W("loading")},[w(e.loadingIcon,W("loading-icon"),d.loading)]);if(t.value&&e.showError)return u("div",{class:W("error")},[w(e.errorIcon,W("error-icon"),d.error)])},p=()=>{if(t.value||!e.src)return;const a={alt:e.alt,class:W("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?Ae(u("img",ee({ref:i},a),null),[[Re("lazy"),e.src]]):u("img",ee({ref:i,src:e.src,onLoad:v,onError:P},a),null)},k=({el:a})=>{const _=()=>{a===i.value&&s.value&&y()};i.value?_():ae(_)},I=({el:a})=>{a===i.value&&!t.value&&P()};return g&&he&&(g.$on("loaded",k),g.$on("error",I),Me(()=>{g.$off("loaded",k),g.$off("error",I)})),le(()=>{ae(()=>{var a;(a=i.value)!=null&&a.complete&&y()})}),()=>{var a;return u("div",{class:W({round:e.round,block:e.block}),style:h.value},[p(),S(),(a=d.default)==null?void 0:a.call(d)])}}});const lt=ve(it),_e=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),se=ce("image-preview")[1];var rt=ie({props:{src:String,show:Boolean,active:Number,minZoom:G(Y),maxZoom:G(Y),rootWidth:G(Number),rootHeight:G(Number)},emits:["scale","close","longPress"],setup(e,{emit:l,slots:d}){const t=fe({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),s=Ge(),i=$(),g=z(()=>{const{rootWidth:n,rootHeight:b}=e,x=b/n;return t.imageRatio>x}),h=z(()=>{const{scale:n,moveX:b,moveY:x,moving:N,zooming:V}=t,O={transitionDuration:V||N?"0s":".3s"};if(n!==1){const Pe=b/n,Ie=x/n;O.transform=`scale(${n}, ${n}) translate(${Pe}px, ${Ie}px)`}return O}),v=z(()=>{if(t.imageRatio){const{rootWidth:n,rootHeight:b}=e,x=g.value?b/t.imageRatio:n;return Math.max(0,(t.scale*x-n)/2)}return 0}),y=z(()=>{if(t.imageRatio){const{rootWidth:n,rootHeight:b}=e,x=g.value?b:n*t.imageRatio;return Math.max(0,(t.scale*x-b)/2)}return 0}),P=n=>{n=K(n,+e.minZoom,+e.maxZoom+1),n!==t.scale&&(t.scale=n,l("scale",{scale:n,index:e.active}))},w=()=>{P(1),t.moveX=0,t.moveY=0},S=()=>{const n=t.scale>1?1:2;P(n),t.moveX=0,t.moveY=0};let p,k,I,a,_,f,C;const U=n=>{const{touches:b}=n,{offsetX:x}=s;s.start(n),p=b.length,k=t.moveX,I=t.moveY,C=Date.now(),t.moving=p===1&&t.scale!==1,t.zooming=p===2&&!x.value,t.zooming&&(a=t.scale,_=_e(n.touches))},B=n=>{const{touches:b}=n;if(s.move(n),(t.moving||t.zooming)&&ue(n,!0),t.moving){const{deltaX:x,deltaY:N}=s,V=x.value+k,O=N.value+I;t.moveX=K(V,-v.value,v.value),t.moveY=K(O,-y.value,y.value)}if(t.zooming&&b.length===2){const x=_e(b),N=a*x/_;P(N)}},Se=()=>{if(p>1)return;const{offsetX:n,offsetY:b}=s,x=Date.now()-C,N=250,V=5;n.value<V&&b.value<V&&(x<N?f?(clearTimeout(f),f=null,S()):f=setTimeout(()=>{l("close"),f=null},N):x>$e&&l("longPress"))},de=n=>{let b=!1;(t.moving||t.zooming)&&(b=!0,t.moving&&k===t.moveX&&I===t.moveY&&(b=!1),n.touches.length||(t.zooming&&(t.moveX=K(t.moveX,-v.value,v.value),t.moveY=K(t.moveY,-y.value,y.value),t.zooming=!1),t.moving=!1,k=0,I=0,a=1,t.scale<1&&w(),t.scale>e.maxZoom&&(t.scale=+e.maxZoom))),ue(n,b),Se(),s.reset()},ke=n=>{const{naturalWidth:b,naturalHeight:x}=n.target;t.imageRatio=x/b};return L(()=>e.active,w),L(()=>e.show,n=>{n||w()}),ze("touchmove",B,{target:z(()=>{var n;return(n=i.value)==null?void 0:n.$el})}),()=>{const n={loading:()=>u(Je,{type:"spinner"},null)};return u(ye,{ref:i,class:se("swipe-item"),onTouchstartPassive:U,onTouchend:de,onTouchcancel:de},{default:()=>[d.image?u("div",{class:se("image-wrap")},[d.image({src:e.src})]):u(lt,{src:e.src,fit:"contain",class:se("image",{vertical:g.value}),style:h.value,onLoad:ke},n)]})}}});const[dt,Z]=ce("image-preview"),ut=["show","transition","overlayStyle","closeOnPopstate","teleport"],mt={show:Boolean,loop:j,images:Xe(),minZoom:q(1/3),maxZoom:q(3),overlay:j,closeable:Boolean,showIndex:j,className:me,closeIcon:J("clear"),transition:String,beforeClose:Function,overlayClass:me,overlayStyle:Object,swipeDuration:q(300),startPosition:q(0),showIndicators:Boolean,closeOnPopstate:j,closeIconPosition:J("top-right"),teleport:[String,Object]};var xe=ie({name:dt,props:mt,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:l,slots:d}){const t=$(),s=fe({active:0,rootWidth:0,rootHeight:0}),i=()=>{if(t.value){const a=Le(t.value.$el);s.rootWidth=a.width,s.rootHeight=a.height,t.value.resize()}},g=a=>l("scale",a),h=a=>l("update:show",a),v=()=>{We(e.beforeClose,{args:[s.active],done:()=>h(!1)})},y=a=>{a!==s.active&&(s.active=a,l("change",a))},P=()=>{if(e.showIndex)return u("div",{class:Z("index")},[d.index?d.index({index:s.active}):`${s.active+1} / ${e.images.length}`])},w=()=>{if(d.cover)return u("div",{class:Z("cover")},[d.cover()])},S=()=>u(pe,{ref:t,lazyRender:!0,loop:e.loop,class:Z("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:y},{default:()=>[e.images.map((a,_)=>u(rt,{src:a,show:e.show,active:s.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:s.rootWidth,rootHeight:s.rootHeight,onScale:g,onClose:v,onLongPress:()=>l("longPress",{index:_})},{image:d.image}))]}),p=()=>{if(e.closeable)return u(te,{role:"button",name:e.closeIcon,class:[Z("close-icon",e.closeIconPosition),Ve],onClick:v},null)},k=()=>l("closed"),I=(a,_)=>{var f;return(f=t.value)==null?void 0:f.swipeTo(a,_)};return qe({swipeTo:I}),le(i),L([Be,Ne],i),L(()=>e.startPosition,a=>y(+a)),L(()=>e.show,a=>{const{images:_,startPosition:f}=e;a?(y(+f),ae(()=>{i(),I(+f,{immediate:!0})})):l("close",{index:s.active,url:_[s.active]})}),()=>u(et,ee({class:[Z(),e.className],overlayClass:[Z("overlay"),e.overlayClass],onClosed:k,"onUpdate:show":h},De(e,ut)),{default:()=>[p(),S(),P(),w()]})}});let Q;const _t={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function ht(){({instance:Q}=tt({setup(){const{state:e,toggle:l}=ot(),d=()=>{e.images=[]};return()=>u(xe,ee(e,{onClosed:d,"onUpdate:show":l}),null)}}))}const vt=(e,l=0)=>{if(!!he)return Q||ht(),e=Array.isArray(e)?{images:e,startPosition:l}:e,Q.open(Ze({},_t,e)),Q};ve(xe);const ft="data:image/png;base64,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";function bt(e){return Qe.get({url:"detail/infos",params:{houseId:e}})}const gt=Ye("detail",{state:()=>({detailInfos:{}}),actions:{async fetchHouseDetailData(e){const l=await bt(e);this.detailInfos=l.data}}});const yt={props:{titles:{type:Array,default:()=>[]}},data(){return{currentIndex:0}},emits:["tabItemClick"],methods:{itemClick(e){this.currentIndex=e,this.$emit("tabItemClick",e)},setCurrentIndex(e){this.currentIndex=e}}},pt={class:"tab-control"},xt=["onClick"];function wt(e,l,d,t,s,i){return c(),r("div",pt,[(c(!0),r(T,null,R(d.titles,(g,h)=>(c(),r("div",{key:g,class:be(["tab-control-item",{active:h===s.currentIndex}]),onClick:v=>i.itemClick(h)},[o("span",null,m(g),1)],10,xt))),128))])}const St=A(yt,[["render",wt],["__scopeId","data-v-02593d15"]]);const kt={class:"detail-swipe"},Pt=["src","onClick"],It={class:"indicator"},Ct={key:0,class:"count"},Tt={__name:"detail-01-swipe",props:{housePics:{type:Array,default:()=>[]}},setup(e){const l=e,d={};for(const h of l.housePics){let v=d[h.enumPictureCategory];v||(v=[],d[h.enumPictureCategory]=v),v.push(h)}console.log(d);const t=/【(.*?)】/i,s=h=>t.exec(h)[1],i=h=>{let y=d[h.enumPictureCategory].findIndex(P=>P===h)+1;return console.log("index",y),y},g=h=>{console.log("\u9884\u89C8\u56FE\u7247",h),vt({images:l.housePics.map(v=>v.url),startPosition:h})};return(h,v)=>{const y=ye,P=pe;return c(),r("div",kt,[u(P,{class:"swipe-list",autoplay:3e3,"indicator-color":"white"},{indicator:D(({active:w,total:S})=>[o("div",It,[(c(),r(T,null,R(d,(p,k,I)=>{var a,_;return o("div",{key:k,class:be(["item",{active:((a=e.housePics[w])==null?void 0:a.enumPictureCategory)==k}])},[ne(m(s(p[0].title))+" ",1),((_=e.housePics[w])==null?void 0:_.enumPictureCategory)==k?(c(),r("span",Ct,m(i(e.housePics[w]))+"/"+m(p.length),1)):X("",!0)],2)}),64))])]),default:D(()=>[(c(!0),r(T,null,R(e.housePics,(w,S)=>(c(),ge(y,{key:S,class:"item"},{default:D(()=>[o("img",{src:w.url,alt:"",onClick:p=>g(S)},null,8,Pt)]),_:2},1024))),128))]),_:1})])}}},Mt=A(Tt,[["__scopeId","data-v-d8b2d72c"]]);const At={class:"infos"},Rt={class:"name"},zt={class:"tags"},$t={class:"comment extra"},Bt={class:"left"},Nt={class:"score"},Dt={class:"title"},Xt={class:"brief"},Lt={class:"right"},Vt={class:"count"},Wt={class:"position extra"},Zt={class:"left address"},Yt={class:"right"},jt={__name:"detail-02-infos",props:{topInfo:{type:Object,default:()=>({})}},setup(e){return(l,d)=>{const t=te;return c(),r("div",At,[o("div",Rt,m(e.topInfo.houseName),1),o("div",zt,[(c(!0),r(T,null,R(e.topInfo.houseTags,(s,i)=>(c(),r(T,{key:i},[s.tagText?(c(),r("span",{key:0,class:"item",style:re({color:s.tagText.color,background:s.tagText.background.color})},m(s.tagText.text),5)):X("",!0)],64))),128))]),o("div",$t,[o("div",Bt,[o("span",Nt,m(e.topInfo.commentBrief.overall),1),o("span",Dt,m(e.topInfo.commentBrief.scoreTitle),1),o("span",Xt,m(e.topInfo.commentBrief.commentBrief),1)]),o("div",Lt,[o("span",Vt,[ne(m(e.topInfo.commentBrief.totalCount)+"\u6761\u8BC4\u8BBA ",1),u(t,{name:"arrow"})])])]),o("div",Wt,[o("div",Zt,m(e.topInfo.nearByPosition.address),1),o("div",Yt,[ne(" \u5730\u56FE\xB7\u5468\u8FB9 "),u(t,{name:"arrow"})])])])}}},Ht=A(jt,[["__scopeId","data-v-4d8d8873"]]);const Ft=e=>(H("data-v-8be8abf4"),e=e(),F(),e),Kt={class:"section"},Et={class:"header"},Ut={class:"title"},Ot={class:"content"},Gt=Ft(()=>o("h3",null,"\u6211\u662F\u9ED8\u8BA4\u5185\u5BB9",-1)),qt={key:0,class:"footer"},Qt={class:"more"},Jt={__name:"detail-section",props:{title:{type:String,default:"\u9ED8\u8BA4\u6807\u9898"},moreText:{type:String,default:""}},setup(e){return(l,d)=>{const t=te;return c(),r("div",Kt,[o("div",Et,[o("h2",Ut,m(e.title),1)]),o("div",Ot,[je(l.$slots,"default",{},()=>[Gt],!0)]),e.moreText.length?(c(),r("div",qt,[o("span",Qt,m(e.moreText),1),u(t,{name:"arrow"})])):X("",!0)])}}},E=A(Jt,[["__scopeId","data-v-8be8abf4"]]);const eo=e=>(H("data-v-54cabbda"),e=e(),F(),e),to={class:"facility"},oo={class:"facility-inner"},so={key:0,class:"item"},ao={class:"head"},no=["src"],co={class:"text"},io={class:"list"},lo=eo(()=>o("i",{class:"icon_check icon"},null,-1)),ro={__name:"detail-03-facility",props:{houseFacility:{type:Object,default:()=>({})}},setup(e){return(l,d)=>(c(),r("div",to,[u(E,{title:"\u623F\u5C4B\u8BBE\u65BD","more-text":"\u67E5\u770B\u5168\u90E8\u8BBE\u65BD"},{default:D(()=>[o("div",oo,[(c(!0),r(T,null,R(e.houseFacility.houseFacilitys,(t,s)=>{var i;return c(),r(T,{key:s},[(i=e.houseFacility.facilitySort)!=null&&i.includes(s)?(c(),r("div",so,[o("div",ao,[o("img",{src:t.icon,alt:""},null,8,no),o("div",co,m(t.groupName),1)]),o("div",io,[(c(!0),r(T,null,R(t.facilitys.slice(0,4),(g,h)=>(c(),r("div",{key:h,class:"iten"},[lo,o("span",null,m(g.name),1)]))),128))])])):X("",!0)],64)}),128))])]),_:1})]))}},uo=A(ro,[["__scopeId","data-v-54cabbda"]]);const mo=e=>(H("data-v-2902b9ee"),e=e(),F(),e),_o={class:"landlord"},ho={class:"intro"},vo={class:"top"},fo=["src"],bo={class:"header"},go={class:"left"},yo={class:"avatar"},po=["src"],xo={class:"info"},wo={class:"name"},So={class:"tags"},ko={key:0,class:"divider"},Po=mo(()=>o("div",{class:"right"},[o("div",{class:"contact"},"\u8054\u7CFB\u623F\u4E1C")],-1)),Io={class:"bottom"},Co={class:"item"},To={class:"title"},Mo={class:"score"},Ao={class:"desc"},Ro={__name:"detail-04-landlord",props:{landlord:{type:Object,default:()=>({})}},setup(e){return(l,d)=>(c(),r("div",_o,[u(E,{title:"\u623F\u4E1C\u4ECB\u7ECD","more-text":"\u67E5\u770B\u623F\u4E1C\u4E3B\u9875"},{default:D(()=>[o("div",ho,[o("div",vo,[o("img",{src:e.landlord.topScroll,alt:""},null,8,fo)]),o("div",bo,[o("div",go,[o("div",yo,[o("img",{src:e.landlord.hotelLogo,alt:""},null,8,po)]),o("div",xo,[o("div",wo,m(e.landlord.hotelName),1),o("div",So,[(c(!0),r(T,null,R(e.landlord.hotelTags,(t,s)=>(c(),r("div",{class:"item",style:re({color:t.tagText.color})},[o("span",null,m(t.tagText.text),1),s!==e.landlord.hotelTags.length-1?(c(),r("span",ko,"|")):X("",!0)],4))),256))])])]),Po]),o("div",Io,[(c(!0),r(T,null,R(e.landlord.hotelSummary,(t,s)=>(c(),r("div",Co,[o("div",To,m(t.title),1),o("div",Mo,m(t.introduction),1),o("div",Ao,m(t.tip),1)]))),256))])])]),_:1})]))}},zo=A(Ro,[["__scopeId","data-v-2902b9ee"]]);const $o=e=>(H("data-v-667b7705"),e=e(),F(),e),Bo={class:"comment"},No={class:"comment-inner"},Do={class:"header"},Xo={class:"left"},Lo={class:"score"},Vo={class:"text"},Wo=$o(()=>o("div",{class:"line"},null,-1)),Zo={class:"info"},Yo={class:"title"},jo={class:"count"},Ho={class:"star"},Fo={class:"right"},Ko={class:"tags"},Eo={class:"content"},Uo={class:"user"},Oo={class:"avatar"},Go=["src"],qo={class:"profile"},Qo={class:"name"},Jo={class:"date"},es={class:"text"},ts={__name:"detail-05-comment",props:{comment:{type:Object,default:()=>({})}},setup(e){return(l,d)=>{const t=st;return c(),r("div",Bo,[u(E,{title:"\u70ED\u95E8\u8BC4\u8BBA","more-text":`\u67E5\u770B\u5168\u90E8${e.comment.totalCount}\u6761\u8BC4\u8BBA`},{default:D(()=>[o("div",No,[o("div",Do,[o("div",Xo,[o("div",Lo,[o("span",Vo,m(Number(e.comment.overall).toFixed(1)),1),Wo]),o("div",Zo,[o("div",Yo,m(e.comment.scoreTitle),1),o("div",jo,m(e.comment.totalCount)+"\u6761\u8BC4\u8BBA",1),o("div",Ho,[u(t,{modelValue:e.comment.overall,"onUpdate:modelValue":d[0]||(d[0]=s=>e.comment.overall=s),color:"#ff9645",size:"12",readonly:"","allow-half":""},null,8,["modelValue"])])])]),o("div",Fo,[(c(!0),r(T,null,R(e.comment.subScores,(s,i)=>(c(),r("span",{key:s,class:"item"},m(s),1))),128))])]),o("div",Ko,[(c(!0),r(T,null,R(e.comment.commentTagVo,(s,i)=>(c(),r("span",{key:i,class:"item",style:re({color:s.color,background:s.backgroundColor})},m(s.text),5))),128))]),o("div",Eo,[o("div",Uo,[o("div",Oo,[o("img",{src:e.comment.comment.userAvatars,alt:""},null,8,Go)]),o("div",qo,[o("div",Qo,m(e.comment.comment.userName),1),o("div",Jo,m(e.comment.comment.checkInDate),1)])]),o("div",es,m(e.comment.comment.commentDetail),1)])])]),_:1},8,["more-text"])])}}},os=A(ts,[["__scopeId","data-v-667b7705"]]);const ss={class:"notice"},as={class:"notice-inner"},ns={class:"title"},cs={class:"intro"},is={key:0,class:"tip"},ls={__name:"detail-06-notice",props:{orderRules:{type:Array,default:()=>[]}},setup(e){return(l,d)=>(c(),r("div",ss,[u(E,{title:"\u9884\u5B9A\u987B\u77E5"},{default:D(()=>[o("div",as,[(c(!0),r(T,null,R(e.orderRules,(t,s)=>(c(),r("div",{key:s,class:"item"},[o("span",ns,m(t.title),1),o("span",cs,m(t.introduction),1),t.tips?(c(),r("span",is,"\u67E5\u770B\u8BF4\u660E")):X("",!0)]))),128))])]),_:1})]))}},rs=A(ls,[["__scopeId","data-v-acb2299b"]]);const ds={class:"map"},us={__name:"detail-07-map",props:{position:{type:Object,default:()=>({})}},setup(e){const l=e,d=$(),t=He();return le(()=>{var i;t.value=new AMap.Map(d.value,{zoom:15,center:[l.position.longitude,l.position.latitude],viewMode:"3D"});const s=new AMap.Marker({position:[l.position.longitude,l.position.latitude]});(i=t.value)==null||i.add(s)}),Fe(()=>{var s;t.value&&((s=t.value)==null||s.destroy())}),(s,i)=>(c(),r("div",ds,[u(E,{title:"\u4F4D\u7F6E\u5468\u8FB9","more-text":"\u67E5\u770B\u66F4\u591A\u5468\u8FB9\u4FE1\u606F"},{default:D(()=>[o("div",{id:"mapContainer",ref_key:"mapRef",ref:d},null,512)]),_:1})]))}},ms=A(us,[["__scopeId","data-v-2d9d2714"]]);const _s={class:"intro"},hs={class:"title"},vs={class:"content"},fs={__name:"detail-08-intro",props:{priceIntro:{type:Object,default:()=>({})}},setup(e){return(l,d)=>(c(),r("div",_s,[o("h2",hs,m(e.priceIntro.title),1),o("div",vs,m(e.priceIntro.introduction),1)]))}},bs=A(fs,[["__scopeId","data-v-c32235d4"]]);const we=e=>(H("data-v-453ebf73"),e=e(),F(),e),gs={class:"action-bar"},ys=we(()=>o("div",{class:"chat"},[o("i",{class:"detail_icon_chat"}),o("span",{class:"text"},"\u804A\u5929")],-1)),ps={class:"price"},xs={class:"final"},ws={class:"unit"},Ss={class:"old"},ks=we(()=>o("div",{class:"order"},[o("i",{class:"detail_icon_order"}),o("span",{class:"text"},"\u9884\u8BA2\u5F53\u524D\u623F\u6E90")],-1)),Ps={__name:"detail-09-actionbar",props:{currentHouse:{type:Object,default:()=>({})}},setup(e){return(l,d)=>(c(),r("div",gs,[ys,o("div",ps,[o("span",xs,m("\xA5"+e.currentHouse.finalPrice),1),o("span",ws,m(e.currentHouse.priceMark),1),o("span",Ss,m(e.currentHouse.productPrice),1)]),ks]))}},Is=A(Ps,[["__scopeId","data-v-453ebf73"]]);const Cs=e=>(H("data-v-9f0ca0cb"),e=e(),F(),e),Ts={key:1,class:"main"},Ms=Cs(()=>o("div",{class:"footer"},[o("img",{src:ft,alt:""}),o("div",{class:"text"},"\u8DA3\u65C5\u9014, \u6C38\u65E0\u6B62\u5883!")],-1)),As={__name:"detail",setup(e){const l=Ke(),d=Ee(),t=gt();t.fetchHouseDetailData(l.params.id);const{detailInfos:s}=Ue(t),i=z(()=>{var _;return(_=s.value)==null?void 0:_.mainPart}),g=z(()=>{var _;return(_=s.value)==null?void 0:_.currentHouse}),h=()=>{d.back()},v=$(),{scrollTop:y,isReachBottom:P}=at(v),w=z(()=>y.value>243),S=$({}),p=_=>{if(!_)return;const f=_.$el.getAttribute("name");S.value[f]=_.$el},k=z(()=>Object.keys(S.value)),I=_=>{console.log("tabClick",_);const f=Object.keys(S.value)[_],C=S.value[f];console.log(f,C,C.offsetTop),C.offsetTop!==0&&v.value.scrollTo({top:C.offsetTop-44})},a=$();return L(y,_=>{var U;const f=Object.values(S.value).map(B=>B.offsetTop);console.log(f);let C=-1;for(let B=0;B<f.length;B++)if(_<f[B]-44){C=B-1;break}console.log(C),(U=a.value)==null||U.setCurrentIndex(C)}),(_,f)=>{const C=Oe;return c(),r("div",{ref_key:"detailRef",ref:v,class:"detail top-page"},[M(w)?(c(),ge(St,{key:0,ref_key:"tabControlRef",ref:a,class:"tabs",titles:M(k),onTabItemClick:I},null,8,["titles"])):X("",!0),u(C,{title:"\u623F\u5C4B\u8BE6\u60C5","left-text":"\u65C5\u9014","left-arrow":"",onClickLeft:h}),M(i)?(c(),r("div",Ts,[u(Mt,{"house-pics":M(i).topModule.housePicture.housePics},null,8,["house-pics"]),u(Ht,{name:"\u63CF\u8FF0",ref:p,"top-info":M(i).topModule},null,8,["top-info"]),u(uo,{name:"\u8BBE\u65BD",ref:p,"house-facility":M(i).dynamicModule.facilityModule.houseFacility},null,8,["house-facility"]),u(zo,{name:"\u623F\u4E1C",ref:p,landlord:M(i).dynamicModule.landlordModule},null,8,["landlord"]),u(os,{name:"\u8BC4\u8BBA",ref:p,comment:M(i).dynamicModule.commentModule},null,8,["comment"]),u(rs,{name:"\u987B\u77E5",ref:p,"order-rules":M(i).dynamicModule.rulesModule.orderRules},null,8,["order-rules"]),u(ms,{name:"\u5468\u8FB9",ref:p,position:M(i).dynamicModule.positionModule},null,8,["position"]),u(bs,{"price-intro":M(i).introductionModule},null,8,["price-intro"])])):X("",!0),Ms,u(Is,{"current-house":M(g)},null,8,["current-house"])],512)}}},Ns=A(As,[["__scopeId","data-v-9f0ca0cb"]]);export{Ns as default};
